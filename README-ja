------------------------------------------------------------
		     README for kdconv
------------------------------------------------------------

NAME
     kdconv -- PDF optimizer for Kindle2/DX.

SYNOPSIS
     kdconv [-a author] [-ceotdK] input-pdf output-pdf

PLATFORM
     - MacOS X 10.6以上(それ以前は未検証)
     - Kindle 2(Kindled DX は未検証)

DESCRIPTION
     kdconv は PDF を Kindle2 で読みやすいサイズへ変換する為のプログラムです。

     Kindle2 では PDF を表示出来ますが、特にデータが画像ファイルとして埋め込ま
     れたファイルの場合、サイズによっては綺麗に表示されないことがあります。この
     プログラムでは、input-pdf で指定された PDF を、Kindle2 に適したサイズへ変
     換し、視認性を高めた後 output-pdf として出力します。また、一般的にファイル
     サイズを小さくする効果もあります。

     Kindle2 では、PDF ファイル名末尾の .pdf を除去した値がタイトル名として使用
     されますので、それを意識して output-pdf を指定すると便利です。

     pdftk がインストールされている環境では output-pdf から、末尾の .pdf を除去
     した値を、PDFのタイトルメタデータとして書きこみます。また、オプションを指
     定することにより、作成者を書きこむことも可能です。作成者名を書き込むと、そ
     の値が Kindle のファイル一覧画面で、作者名として表示されます。

     加えて、余白を取り除く機能や自動的に Kindle へ転送したりすることも可能です。

     KindleDX 向けに適したサイズへ変換することもできますが、実機をもっていない
     ため、動作確認出来ていません。

PREPARATION
     このプログラムは、以下の外部プログラムへ依存しています。MacPors などを使っ
     て path の通っているディレクトリへインストールしてください。

     - ghostscript(8.71以上)
     - ImageMagick(6.6.1以上)
     - pdftk(1.12以上。ただしインストールはオプション)

     例えば MacPorts で default のままインストールするには:

              sudo port install ghostscript ImageMagick pdftk

     2010/04/13 現在、依存している gcc の build エラーにより、MacPorts では
     pdftk をインストール出来ません。pdftk のページから ver.1.12 バイナリへのリ
     ンクが貼られていますので、それを利用すると良いと思います。pdftk のページ
     は以下の通りです。

              <http://www.accesspdf.com/pdftk/>

     pdftk がインストールされていない場合、-a オプションによる作者名のメタデー
     タ埋め込みが機能しません、その他は動作可能です。

     外部プログラムのインストールが済んだら kdconv をパスの通った適当なディレク
     トリへ install し、実行属性を設定します。例えば /opt/local/bin へインストー
     ルするには:

              sudo install kdconv /opt/local/bin

OPTIONS
     -a AUTHOR
             PDFの作成者を設定します。Kindle はこの値を、作者名として使用しま
             す。このオプションは pdftk がインストールされている環境でのみ使用
             可能です。

     -c      PDF 変換終了後、変換されたファイルを Kindle の documents ディレク
             トリへ自動転送します。Kindle は Mac へ事前に接続しておいてくださ
             い。Kindle が接続されていない場合、警告を表示してなにもしません。
             ouput-pdf へディレクトリ名が含まれている場合でも、コピー時にはファ
             イル名のみが利用されます。

     -e      コピー終了後、Kindle を自動で eject します。-c オプションが付与さ
             れていない場合には意味を持ちません。

     -o      output-pdf で指定されたファイルが既に存在している場合、そのファイ
             ルの上書きを許可します。このオプションが指定されていない場合、同
             名のファイルが既に存在した場合には、エラーとなります。

     -t      元ファイルの周辺にある余白を除去しようと試みます。ファイル四隅の
             色を基準に除去領域を判断します。

     -d      KindleDX に適したサイズへ変換します。


EXAMPLES
     foo.pdf を bar.pdf として変換するには:

              kdconv foo.pdf bar.pdf

     sample.pdf を My document.pdf として変換し、自動で Kindle へコピー、その
     後 Kindle を eject させるには:

              kdconv -c -e sample.pdf My\ document.pdf

     1.pdf を out.pdf として余白を除去しながら変換し、既に存在する out.pdf へ
     上書き出力させるには:

              kdconv -t -o 1.pdf out.pdf

BUGS
     バグを発見された場合には、下記、AUTHOR までご連絡ください。

     もとのPDFがベクタデータで作成されている場合、生成されたファイルはもとのファ
     イルよりもサイズが小さい、または読みにくいファイルとなることがあります。

     稀に ImageMagick の convert が暴走し、変換が終了しない場合があります。
     この場合には再度変換をやり直してみてください。

AUTHOR
     E-Mail: n-miyo@tempus.org
     Twitter: nmiyo
     Blog: http://blogger.tempus.org/

; EOF
